# АРХИТЕКТУРА СОУСА

это __nocode__ шаблон для запуска _телеграм_ бота с интерфейсом _chatgpt_.

## при первом запуске
создастся папка _src_ с файлом __sousSett.md__ — основной конфигурационный файл, в нем есть первые базовые параметры.

полное возможное содержание:

Init:

    telegramKey телеграмм ключ от @BotFather

    apiKey ключ от апи искусственного интеллекта

    apiModel модель по адресу

    apiUrl адрес апи

Telebot:

    input:

        список ( формат: "* ключ. слово" и перенос строки) sticker / photo / video / audio /document / voice / gif / videonote / contact / caption

        cut обрезание входящего сообщения (целое число)

        блок кода pipeline (местный dsl) объяснение синтаксиса в конце страницы

    answer:

        rate частота ответа ( 1 = раз в 1 сообщение, 2 = раз в 2 сообщения и т.д.)

        блок кода json нужен для дополнительных полей отправляемых запросов (top_p, temperature, max_tokens ...)

Memory:

    lenght длинна памяти (сообщения) считаются как и assistant так и user

    prompt сообщение от лица system

    inCut обрезание сообщения user

    outCut обрезание сообщения assistant

### pipeline
("я сам до конца не понял" считается?)


каждая новая строка имеет локальный результат

блок кода имеет глобальный результат

локальный результат считается выполнением кода справа налево

```
concat[] дополняет глобальный результат локальным результатом
write[] перезаписывает глобальный результат локальным результатом


sample() случайный элемент локального результата
shuffle() перемешивает локальный результат
reverse() разворачивает локальный результат

readAnJsonl(файл.jsonl) берет случайную строку из json lines файла (соблюдайте формат {messages:[сообщения]})
readAllJsonl(файл.jsonl) берет все строки из json lines файла (соблюдайте формат {messages:[сообщения]})

переменные input prompt memory
```

! каждое слово перезаписывает локальный результат !